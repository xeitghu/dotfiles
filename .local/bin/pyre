#!/bin/bash
# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          PYRE ENGINE - ENTRY POINT                         │
# └────────────────────────────────────────────────────────────────────────────┘

# Source the function library.
source "$HOME/.config/pyre/functions.sh"

# Check dependencies first
check_dependencies

# Argument handling
case "$1" in
theme)
  if [ -n "$2" ]; then
    apply_theme "$2"
  else
    show_theme_menu
  fi
  ;;
layout)
  show_layout_menu
  ;;
session)
  show_session_menu
  ;;
reload)
  reload_services
  notify-send "Pyre" "System configurations reloaded." -i "system-reboot"
  ;;
*)
  show_main_menu
  ;;
esac
