# ┌────────────────────────────────────────────────────────────────────────────┐
# │                         HYPRLAND - WINDOW RULES                            │
# └────────────────────────────────────────────────────────────────────────────┘
# [INFO] To find a window's class: hyprctl clients

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                            1. General Behavior                             │
# └────────────────────────────────────────────────────────────────────────────┘

# --- Block Maximize ---
# [RECOMMENDED] Prevents apps from maximizing manually, which breaks tiling on some XWayland apps.
windowrulev2 = suppressevent maximize, class:.*

# --- No Focus Stealing ---
windowrulev2 = noinitialfocus, class:^(waybar)$

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                             2. Floating Windows                            │
# └────────────────────────────────────────────────────────────────────────────┘

# --- System UI & Settings (Grouped) ---
# [OPTIMIZATION] Combined multiple lines using regex (app1|app2|app3)
windowrulev2 = float, class:^(pavucontrol|org.kde.polkit-kde.*|lxqt-policykit.*|nwg-look|qt6ct|kvantummanager|hyprland-share-picker|hyprland-dialog)$
windowrulev2 = center, class:^(pavucontrol|org.kde.polkit-kde.*|lxqt-policykit.*|nwg-look|qt6ct|kvantummanager|hyprland-share-picker|hyprland-dialog)$

# --- Media Players ---
windowrulev2 = float, class:^(io.github.celluloid_player.Celluloid|imv|mpv)$
windowrulev2 = center, class:^(io.github.celluloid_player.Celluloid|imv|mpv)$
windowrulev2 = size 1200 700, class:^(io.github.celluloid_player.Celluloid|imv|mpv)$

# --- File Managers (Operations) ---
windowrulev2 = float, class:^([Tt]hunar)$, title:^(File Operation Progress)$
windowrulev2 = center, class:^([Tt]hunar)$, title:^(File Operation Progress)$

# --- Picture-in-Picture (PiP) ---
# [NEW] Standard rules for floating videos from browsers
windowrulev2 = float, title:^(Picture-in-Picture)$
windowrulev2 = pin, title:^(Picture-in-Picture)$
windowrulev2 = move 100%-w-20 100%-h-20, title:^(Picture-in-Picture)$

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                       3. Application-Specific Rules                        │
# └────────────────────────────────────────────────────────────────────────────┘

# --- Clipse (Clipboard Manager) ---
windowrulev2 = float, class:(clipse)
windowrulev2 = size 730 686, class:(clipse)
windowrulev2 = center, class:(clipse)

# --- Kitty Maintenance Menu ---
windowrulev2 = float,           class:^(kitty-maintenance)$
windowrulev2 = size 60% 50%,    class:^(kitty-maintenance)$
windowrulev2 = center,          class:^(kitty-maintenance)$
windowrulev2 = noborder,        class:^(kitty-maintenance)$
windowrulev2 = noshadow,        class:^(kitty-maintenance)$
windowrulev2 = opacity 1.0 1.0, class:^(kitty-maintenance)$

# --- Kitty Update Terminal ---
windowrulev2 = float,        class:^(kitty-update)$
windowrulev2 = size 50% 60%, class:^(kitty-update)$
windowrulev2 = center,       class:^(kitty-update)$
windowrulev2 = noborder,     class:^(kitty-update)$
windowrulev2 = noshadow,     class:^(kitty-update)$

# --- Notification ---
windowrulev2 = float, class:(kitty-notif)
windowrulev2 = size 700 500, class:(kitty-notif)
windowrulev2 = center, class:(kitty-notif)

# --- Dialect (Translate) ---
windowrulev2 = float,         class:^(app.drey.Dialect)$
windowrulev2 = center,        class:^(app.drey.Dialect)$
windowrulev2 = size 1000 500, class:^(app.drey.Dialect)$
windowrulev2 = noshadow,      class:^(app.drey.Dialect)$
windowrulev2 = noblur,        class:^(app.drey.Dialect)$
windowrulev2 = opacity 1 0.85, class:^(app.drey.Dialect)$

# --- Wofi ---
windowrulev2 = rounding 0, class:^(wofi)$
windowrulev2 = noshadow,   class:^(wofi)$
windowrulev2 = noblur,     class:^(wofi)$

# --- Steam ---
windowrulev2 = float, class:^(steam)$, title:^(Friends List)$
windowrulev2 = float, class:^(steam)$, title:^(Steam - News)$
windowrulev2 = float, class:^(steam)$, title:^(Game Servers)$
windowrulev2 = float, class:^(steam)$, title:^(Steam Settings)$
windowrulev2 = float, class:^(steam)$, title:^(.*\+.*Chats.*|.*Chats$|.*\..*)$
windowrulev2 = center, class:^(steam)$, title:^(Friends List)$
windowrulev2 = center, class:^(steam)$, title:^(Steam - News)$
windowrulev2 = center, class:^(steam)$, title:^(Game Servers)$
windowrulev2 = center, class:^(steam)$, title:^(Steam Settings)$
windowrulev2 = center, class:^(steam)$, title:^(.*\+.*Chats.*|.*Chats$|.*\..*)$

# --- Proton VPN ---
windowrulev2 = size 500 750, class:(protonvpn-app)$

# --- Screen Sharing Fix (xwaylandvideobridge) ---
windowrulev2 = opacity 0.0 override, class:^(xwaylandvideobridge)$
windowrulev2 = noanim, class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus, class:^(xwaylandvideobridge)$
windowrulev2 = maxsize 1 1, class:^(xwaylandvideobridge)$
windowrulev2 = noblur, class:^(xwaylandvideobridge)$
