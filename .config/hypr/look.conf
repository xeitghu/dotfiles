# ┌──────────────────────────────────────────────────┐
# │               Look & Feel (Visuals)              │
# └──────────────────────────────────────────────────┘

# ┌──────────────────────────────────────────────────┐
# │                      General                     │
# └──────────────────────────────────────────────────┘
general {
    gaps_in     = 6
    gaps_out    = 20
    border_size = 2
    
    #  45deg gradient for the active border
    col.active_border   = $lavender $blue 45deg
    col.inactive_border = $surface1
    
    layout = dwindle
}

# ┌──────────────────────────────────────────────────┐
# │                     Decoration                   │
# └──────────────────────────────────────────────────┘
decoration {
    rounding = 10

    blur {
        enabled = true
        size = 5
        passes = 1
        blurls = "waybar"
    }

    shadow {
        enabled = true
        range = 10
        render_power = 3
        color = rgba(11111B88)
    }
}

# ┌──────────────────────────────────────────────────┐
# │                     Animations                   │
# └──────────────────────────────────────────────────┘
animations {
    enabled = yes

    #  Using a linear curve as the animation speed is high
    bezier = linear, 0, 0, 1, 1

    # --- Layered Animation ---
    # 1. GEOMETRY: Fast window pop-in (speed 3)
    animation = windowsIn, 1, 3, default, popin 80%
    animation = windowsOut, 1, 3, default, popin 80%
    
    # 2. OPACITY: Smooth fade-in (speed 5, slower than geometry)
    #  This layering is the key to the "pleasant" feel.
    animation = fadeIn, 1, 5, default
    animation = fadeOut, 1, 5, default

    # --- Other animations are kept fast and consistent ---
    animation = workspaces, 1, 3, default, slide
    animation = specialWorkspace, 1, 4, default, slide
    animation = windowsMove, 1, 3, default
}

# ┌──────────────────────────────────────────────────┐
# │                 Layout Specific                  │
# └──────────────────────────────────────────────────┘
dwindle {
    pseudotile     = true
    preserve_split = true
}

# ┌──────────────────────────────────────────────────┐
# │              Grouping / Tabbed Layout            │
# └──────────────────────────────────────────────────┘
group {
    # Цвет рамки для сгруппированных окон
    col.border_active = $lavender
    col.border_inactive = $surface1

    groupbar {
        height = 25
        render_titles = true
        gradients = false
        font_family = "JetBrainsMono Nerd Font"
        font_size = 10
        col.active = $lavender $blue 45deg
        col.inactive = $surface1
        text_color = $text
    }
}

# ┌──────────────────────────────────────────────────┐
# │                   Miscellaneous                  │
# └──────────────────────────────────────────────────┘
misc {
    #  Set to 0 to allow swww to manage the wallpaper
    force_default_wallpaper = 0
}

xwayland {
    force_zero_scaling = true
}
