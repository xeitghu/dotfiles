# ╔══════════════════════════════════════════════════════════════╗
# ║                                                              ║
# ║                  HYPRLAND - WINDOW RULES                     ║
# ║                                                              ║
# ╚══════════════════════════════════════════════════════════════╝
#  Чтобы узнать class/title окна, используйте команду: hyprctl clients

# ┌──────────────────────────────────────────────────┐
# │              1. Floating & Centering             │
# └──────────────────────────────────────────────────┘
#  Автоматически делаем плавающими и центрируем диалоговые окна и утилиты.

# Регулятор громкости
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$

# Агент аутентификации Polkit KDE
windowrulev2 = float, class:^(org.kde.polkit-kde-authentication-agent-1)$
windowrulev2 = center, class:^(org.kde.polkit-kde-authentication-agent-1)$

# НОВОЕ: Просмотрщик изображений Viewnior
windowrulev2 = float, class:^(viewnior)$
windowrulev2 = center, class:^(viewnior)$
windowrulev2 = size 80% 90%, class:^(viewnior)$

# НОВОЕ: Окна файловых операций Thunar (копирование, перемещение)
windowrulev2 = float, class:^(thunar)$, title:^(File Operation Progress)$
windowrulev2 = center, class:^(thunar)$, title:^(File Operation Progress)$

# Агент аутентификации Polkit LXQt
windowrulev2 = float, class:^(lxqt-policykit-agent)$
windowrulev2 = center, class:^(lxqt-policykit-agent)$

# Внутренние диалоги Hyprland (например, "Приложение не отвечает")
# Они уже плавающие по умолчанию, поэтому только центрируем.
windowrulev2 = center, class:^(hyprland-dialog)$

# Утилиты для настройки тем
windowrulev2 = float, class:^(nwg-look)$
windowrulev2 = center, class:^(nwg-look)$

windowrulev2 = float, class:^(qt6ct)$
windowrulev2 = center, class:^(qt6ct)$

windowrulev2 = float, class:^(kvantummanager)$
windowrulev2 = center, class:^(kvantummanager)$

# ┌──────────────────────────────────────────────────┐
# │            2. Visuals (Opacity & Blur)           │
# └──────────────────────────────────────────────────┘
#  Улучшенная прозрачность: первое значение для активного окна, второе - для неактивных.

windowrulev2 = opacity 0.95 0.85, class:^(kitty)$
windowrulev2 = opacity 0.95 0.85, class:^(thunar)$
windowrulev2 = opacity 0.92 0.85, class:^(pavucontrol)$

# Отключаем размытие для Spotify, чтобы обложки альбомов были четкими
windowrulev2 = noblur, class:^(spotify)$
# ===============================================================
#           ПРАВИЛА ДЛЯ WOFI (для четкой рамки)
# ---------------------------------------------------------------
# Отключаем все декорации Hyprland, чтобы убрать артефакты
# в углах при использовании CSS-свойства border.
# ===============================================================
windowrulev2 = rounding 0, class:^(wofi)$
windowrulev2 = noshadow, class:^(wofi)$
windowrulev2 = noblur, class:^(wofi)$

# ┌──────────────────────────────────────────────────┐
# │                3. Workspace Rules                │
# └──────────────────────────────────────────────────┘
#  Назначаем приложения на определенные рабочие столы.
#   Раскомментируйте и настройте под свой рабочий процесс.

# windowrulev2 = workspace 2, class:^(firefox)$
# windowrulev2 = workspace 2, class:^(chromium)$
# windowrulev2 = workspace 8, class:^(obs)$
# windowrulev2 = workspace 9, class:^(TelegramDesktop)$
# windowrulev2 = workspace 9, class:^(discord)$


# ┌──────────────────────────────────────────────────┐
# │              4. System & Focus Rules             │
# └──────────────────────────────────────────────────┘
#  Запрещаем Waybar перехватывать фокус при запуске.
windowrulev2 = noinitialfocus, class:^(waybar)$


# ┌──────────────────────────────────────────────────┐
# │           5. Advanced / Disabled Rules           │
# └──────────────────────────────────────────────────┘
#  Оставлено для справки. Это правило может запретить окнам разворачиваться.
# windowrulev2 = suppressevent maximize, class:.*
#
# ┌──────────────────────────────────────────────────┐
# │           5. Правила для игр / Приложений        │
# └──────────────────────────────────────────────────┘
#  Запускаем Sober сразу в полноэкранном режиме.
windowrulev2 = fullscreen, class:^(org.vinegarhq.Sober)$
