# ┌──────────────────────────────────────────────────┐
# │               HYPRLAND - MAIN CONFIG             │
# └──────────────────────────────────────────────────┘

# ┌──────────────────────────────────────────────────┐
# │               1. Core Variables                  │
# └──────────────────────────────────────────────────┘
# [CONFIG] Define core applications for keybindings.
$mainMod     = SUPER
$terminal    = kitty
$fileManager = thunar
$menu        = wofi
$browser     = zen-browser

# ┌──────────────────────────────────────────────────┐
# │           2. Sourcing & External Files           │
# └──────────────────────────────────────────────────┘
# [INFO] Load external configuration files for better organization.
source = ~/.config/hypr/theme.conf       # Visual theme settings (colors, borders, etc.)
source = ~/.config/hypr/look.conf        # Application appearance settings (GTK, Qt)
source = ~/.config/hypr/rules.conf       # Rules for specific windows (floating, size, etc.)
source = ~/.config/hypr/keybinds.conf    # All keybindings

# ┌──────────────────────────────────────────────────┐
# │             3. Autostart & Environment           │
# └──────────────────────────────────────────────────┘

# --- Monitors ---
# [CONFIG] Set your primary monitor configuration.
monitor = eDP-1, preferred, auto, 1
monitor = , preferred, auto, auto

# --- Autostart Applications ---
# [INFO] Applications to launch on startup.
exec-once = waybar                                # The status bar
exec-once = dunst                                 # The notification daemon
exec-once = gamemoded -r                          # Feral GameMode daemon
exec-once = cliphist wipe                         # Clear clipboard history on start
exec-once = wl-paste --watch cliphist store       # Start clipboard history daemon
exec-once = lxqt-policykit-agent                  # Authentication agent for privileges
exec-once = xsettingsd                            # Daemon for GTK settings
exec-once = swww-daemon                           # Wallpaper daemon
exec-once = ydotoold                              # Tool for input automation
exec-once = gammastep &                           # Manages screen temperature for eye protection.
exec-once = libinput-gestures-setup start         # Daemon for touchpad support.
exec-once = ~/.config/hypr/scripts/core/idle.sh   # Idle management daemon
exec-once = ~/.config/hypr/scripts/core/startup.sh# Aplly last used theme
# --- Environment Variables ---
# [INFO] Setting environment variables for the Wayland session.

# --- Cursors ---
# [CONFIG] Cursor theme and size settings.
env = HYPRCURSOR_THEME, catppuccin-mocha-light-cursors
env = HYPRCURSOR_SIZE, 24
env = XCURSOR_THEME, catppuccin-mocha-light-cursors
env = XCURSOR_SIZE, 24

# --- Theming ---
# [CONFIG] Set application themes.
env = GTK_THEME, catppuccin-mocha-lavender-standard+default
env = QT_QPA_PLATFORMTHEME, qt6ct 

# --- Wayland & X11 Backend ---
# [INFO] General variables for a Wayland session.
env = GDK_BACKEND, wayland,x11 
env = XDG_SESSION_TYPE, wayland
env = QT_QPA_PLATFORM, wayland                 # [FIX] Makes Qt applications run natively on Wayland
env = MOZ_ENABLE_WAYLAND, 1                    # [FIX] Force Firefox to run in native Wayland mode

# --- NVIDIA Specific Variables ---
# [CRITICAL] Required variables for running Hyprland on NVIDIA drivers.
env = LIBVA_DRIVER_NAME, nvidia
env = GBM_BACKEND, nvidia-drm
env = __GLX_VENDOR_LIBRARY_NAME, nvidia
# [FIX] Disable hardware cursors to fix artifacts on NVIDIA.
env = WLR_NO_HARDWARE_CURSORS, 1

# ┌──────────────────────────────────────────────────┐
# │                 4. Input Devices                 │
# └──────────────────────────────────────────────────┘
input {
    # [CONFIG] Keyboard layout and options.
    kb_layout      = us,ru
    kb_options     = grp:alt_shift_toggle

    # [CONFIG] Keyboard repeat rate and delay.
    repeat_rate    = 50
    repeat_delay   = 200

    # [INFO] Focus follows the mouse pointer.
    follow_mouse   = 1

    touchpad {
        natural_scroll = false
    }
}
