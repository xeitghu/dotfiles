# ╔══════════════════════════════════════════════════════════════╗
# ║                                                              ║
# ║                Keybindings - Main Config                     ║
# ║                                                              ║
# ╚══════════════════════════════════════════════════════════════╝

# ┌──────────────────────────────────────────────────┐
# │               Application Launchers              │
# └──────────────────────────────────────────────────┘
#  [INFO] RETURN is the Enter key. This is the community standard for launching a terminal.
bind = $mainMod, RETURN,     exec, $terminal
bind = $mainMod, E,          exec, $fileManager
bind = $mainMod, B,          exec, $browser
bind = $mainMod, D,          exec, $menu

# ┌──────────────────────────────────────────────────┐
# │                 Window Management                │
# └──────────────────────────────────────────────────┘
bind = $mainMod, C,          killactive,           #  [INFO] C = Close
bind = $mainMod, Q,          killactive,           #  [INFO] Q = Quit, a more intuitive close key
bind = $mainMod, F,          togglefloating,
bind = $mainMod SHIFT, V,    fullscreen,

# ┌──────────────────────────────────────────────────┐
# │              Layout Management System            │
# └──────────────────────────────────────────────────┘
# --- Layout Toggling ---
bind = $mainMod, M,          exec,      hyprctl keyword general:layout master     #  [INFO] Enter Master layout for focused work
bind = $mainMod SHIFT, M,    exec,      hyprctl keyword general:layout dwindle    #  [INFO] Return to the default Dwindle layout

# --- Master Layout Window Control ---
bind = $mainMod, I,          layoutmsg, addmaster                                 #  [INFO] I = Insert as master
bind = $mainMod, Space,      layoutmsg, swapwithmaster                            #  [INFO] Swap the active window with the master

# --- Stack Orientation Control ---
bind = $mainMod, O, exec, ~/.config/hypr/switch_split.sh                          #  [INFO] O = Orientation (Cycle stack orientation)

# --- Window Grouping (Tabs) ---
bind = $mainMod, G,          togglegroup                                          # Create/dissolve a group
bind = $mainMod, tab,        changegroupactive, f                                 # Cycle to the next window in the group (forward)
bind = $mainMod SHIFT, tab,  changegroupactive, b                                 # Cycle to the previous window in the group (backward)

# ┌──────────────────────────────────────────────────┐
# │           Focus & Movement (VIM-style)           │
# └──────────────────────────────────────────────────┘
#  [INFO] Using HJKL keys for navigation allows you to keep your hands on the home row.
# --- Focus ---
bind = $mainMod, H,          movefocus, l
bind = $mainMod, L,          movefocus, r
bind = $mainMod, K,          movefocus, u
bind = $mainMod, J,          movefocus, d

# --- Movement ---
bind = $mainMod SHIFT, H,    movewindow, l
bind = $mainMod SHIFT, L,    movewindow, r
bind = $mainMod SHIFT, K,    movewindow, u
bind = $mainMod SHIFT, J,    movewindow, d

# ┌──────────────────────────────────────────────────┐
# │             Window Resizing (Submap)             │
# └──────────────────────────────────────────────────┘
#  [INFO] A submap is a temporary keybinding mode. Pressing Super+R enters 'resize' mode.
bind = $mainMod, R,          submap, resize
submap = resize
    #  [INFO] In resize mode, you can use HJKL to resize the active window.
    binde=, H,               resizeactive, -20 0
    binde=, L,               resizeactive, 20 0
    binde=, K,               resizeactive, 0 -20
    binde=, J,               resizeactive, 0 20
    #  [INFO] Pressing Escape exits the submap and returns to normal mode.
    bind=, Escape,           submap, reset 
submap = reset

# ┌──────────────────────────────────────────────────┐
# │               Workspace Management               │
# └──────────────────────────────────────────────────┘
# --- Switching ---
bind = $mainMod, 1,          workspace, 1
bind = $mainMod, 2,          workspace, 2
bind = $mainMod, 3,          workspace, 3
bind = $mainMod, 4,          workspace, 4
bind = $mainMod, 5,          workspace, 5
bind = $mainMod, 6,          workspace, 6
bind = $mainMod, 7,          workspace, 7
bind = $mainMod, 8,          workspace, 8
bind = $mainMod, 9,          workspace, 9
bind = $mainMod, 0,          workspace, 10

# --- Moving Windows ---
bind = $mainMod SHIFT, 1,    movetoworkspace, 1
bind = $mainMod SHIFT, 2,    movetoworkspace, 2
bind = $mainMod SHIFT, 3,    movetoworkspace, 3
bind = $mainMod SHIFT, 4,    movetoworkspace, 4
bind = $mainMod SHIFT, 5,    movetoworkspace, 5
bind = $mainMod SHIFT, 6,    movetoworkspace, 6
bind = $mainMod SHIFT, 7,    movetoworkspace, 7
bind = $mainMod SHIFT, 8,    movetoworkspace, 8
bind = $mainMod SHIFT, 9,    movetoworkspace, 9
bind = $mainMod SHIFT, 0,    movetoworkspace, 10

# --- Scratchpad ---
bind = $mainMod SHIFT, S,   movetoworkspace, special
bind = $mainMod, S,          togglespecialworkspace,

# --- Mouse Wheel Switching ---
bind = $mainMod, mouse_down,           workspace, +1
bind = $mainMod, mouse_up,             workspace, -1
bind = $mainMod, SHIFT mouse_down,     movetoworkspace, +1
bind = $mainMod, SHIFT mouse_up,       movetoworkspace, -1

# ┌──────────────────────────────────────────────────┐
# │               Scripts & Utilities                │
# └──────────────────────────────────────────────────┘
bind = $mainMod, P,           exec, ~/.local/bin/pyre
bind = $mainMod, W,           exec, ~/.local/bin/wpr
bind = $mainMod, V,           exec, ~/.config/hypr/scripts/clipboard_history.sh
bind = , F6,                  exec, ~/.config/hypr/autoclick_toggle.sh
bind = CTRL SHIFT, Escape, exec, kitty -e btop

# --- Screenshots ---
bind = , Print,               exec, ~/.config/hypr/scripts/screenshot_area.sh
bind = SHIFT, Print,          exec, ~/.config/hypr/scripts/screenshot.sh
bind = CTRL, Print,           exec, ~/.config/hypr/scripts/screenshot_window.sh
bind = ALT, Print,            exec, ~/.config/hypr/scripts/screenshot_window_edit.sh
bind = $mainMod, Print,       exec, ~/.config/hypr/scripts/screenshot_ocr.sh

# ┌──────────────────────────────────────────────────┐
# │             Session & System Control             │
# └──────────────────────────────────────────────────┘
bind = $mainMod, SHIFT E,    exit                                             #  [INFO] Safe session exit (E = Exit)
bind = $mainMod, SHIFT X,    exec, ~/.config/hypr/scripts/lockscreen.sh
bind = $mainMod, X,          exec, ~/.config/hypr/scripts/powermenu.sh
bind = $mainMod, SHIFT R,    exec, hyprctl reload

# ┌──────────────────────────────────────────────────┐
# │             Multimedia & Peripherals             │
# └──────────────────────────────────────────────────┘
# --- Volume ---
bindel=, XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel=, XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel=, XF86AudioMute,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle

# --- Brightness ---
bindel=, XF86MonBrightnessUp,  exec, brightnessctl set 5%+
bindel=, XF86MonBrightnessDown,exec, brightnessctl set 5%-

# --- Player ---
bindl=, XF86AudioNext,         exec, playerctl next
bindl=, XF86AudioPause,        exec, playerctl play-pause

# --- Mute ---
bind = , KP_Subtract,          exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bind = , KP_Multiply,          exec, ~/.config/hypr/scripts/system-deafen.sh

# --- Mouse ---
bindm = $mainMod, mouse:272,   movewindow         #  [INFO] mouse:272 is the Left Mouse Button
bindm = $mainMod, mouse:273,   resizewindow       #  [INFO] mouse:273 is the Right Mouse Button
